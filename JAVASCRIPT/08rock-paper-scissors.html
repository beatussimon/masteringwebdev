<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RPS</title>
</head>
<body>
    <button onclick="
        playGame('rock')
        ">Rock</button>
    <button onclick="
        playGame('paper')
    ">Paper</button>
    <button onclick="
        playGame('scissors')
    ">scissors</button>
    <button onclick="
        localStorage.clear()
        console.log(scores)  
    ">Reset scores</button>
</body>
<script>
    let scores = JSON.parse(localStorage.getItem('scores'))
    if(scores === null){
        scores = {
            wins: 0,
            losses :0,
            ties: 0
        }}

    let result;


    function playGame(playerMove){
        computerMove =pickComputerMove()
        
        if(playerMove =='scissors'){
            if(computerMove == 'rock'){
                result = "loss"
                alert(`chose ${computerMove}, You lose!
                wins: ${scores.wins}, losses: ${scores.losses}, ties: ${scores.ties}`);
            }
            else if(computerMove == 'paper'){
            result = "win"
            alert(`chose ${computerMove}, you win!
            wins: ${scores.wins}, losses: ${scores.losses}, ties: ${scores.ties}
            `)
            }
            else if(computerMove == 'scissors'){
                result="tie";
                alert(`chose ${computerMove} Its a tie!
                wins: ${scores.wins}, losses: ${scores.losses}, ties: ${scores.ties}
                `);
            }
        }


        else if (playerMove =='rock'){
            if(computerMove == 'rock'){
                result = "tie";
                alert(`chose ${computerMove}, Its a tie!`);
            }
            else if(computerMove == 'paper'){
                result = "win";
            alert(`chose ${computerMove}, you win!`)
            }
            else if(computerMove == 'scissors'){
                result = "win";
                alert(`chose ${computerMove} You win!`);
            }
        }


        else if(playerMove =='paper'){
            if(computerMove == 'rock'){
                result = "win";
                alert(`chose ${computerMove}, You win!`);
            }
            else if(computerMove == 'paper'){
                result="win"
            alert(`chose ${computerMove}, Its a tie!`)
            }
            else if(computerMove == 'scissors'){
                result="win"
                alert(`chose ${computerMove} You lose!`);
    }
        }
        if(result=="win"){
            scores.wins+=1;
        }
        else if(result == "loss"){
            scores.losses+=1;
        }
        else if(result== 'tie'){
            scores.ties+=1;
        }

        localStorage.setItem('scores', JSON.stringify(scores)) 
    }

    function pickComputerMove(){
        computerMove = '';
        randomNumber= Math.floor(Math.random()*(4-1)+1);
        
        if(randomNumber == 1){
            computerMove = 'rock'
        }
        if(randomNumber == 3){
            computerMove = 'scissors'
        }
        else if(randomNumber == 2){
            computerMove = 'paper'
        }
        
        console.log(computerMove)
        return computerMove
    }
    
</script>
</html>